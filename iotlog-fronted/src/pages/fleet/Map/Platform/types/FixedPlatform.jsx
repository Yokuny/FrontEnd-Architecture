import { DivIcon } from "leaflet";
import { Marker } from "react-leaflet";
import { MODELS } from "../../../../register/platform/Constants";
import CircleRadius from "../CircleRadius";
import PopUp from "../PopUp";
import TooltipPopUp from "../TooltipPopUp";
import { isPositionValid } from "../../../../../components/Utils";
import { handleMachineOnPlataform } from "./Utils";
import { nanoid } from "nanoid";

const getIconDetails = (type, size) => {
  switch (type) {
    case MODELS.TLWP:
      return {
        icon: new DivIcon({
          className: "leaflet-div-icon-img",
          iconSize: [size, size],
          html: `<svg fill="#222b45" x="0px" y="0px" viewBox="0 0 463 463" style="enable-background:new 0 0 463 463;" xml:space="preserve"><g><path d="M307.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S311.642,272,307.5,272z"/><path d="M251.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S255.642,272,251.5,272z"/><path d="M427.5,192H411V71h16.5c2.841,0,5.438-1.605,6.708-4.146c1.271-2.541,0.997-5.582-0.708-7.854l-24-32c-1.417-1.889-3.639-3-6-3H293.266l-1.204-9.028C295.941,14.683,299,11.452,299,7.5c0-4.142-3.358-7.5-7.5-7.5h-48c-4.142,0-7.5,3.358-7.5,7.5c0,3.952,3.059,7.183,6.938,7.472L212.934,240H195.5c-4.142,0-7.5,3.358-7.5,7.5V272h-10.192l-29.402-169.06c3.714-0.448,6.593-3.605,6.593-7.44c0-4.142-3.358-7.5-7.5-7.5H147V63.5c0-4.142-3.358-7.5-7.5-7.5H131v-8.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5V56h-8.5c-4.142,0-7.5,3.358-7.5,7.5V88h-0.5c-4.142,0-7.5,3.358-7.5,7.5c0,3.835,2.88,6.992,6.593,7.44L69.192,272H67.5c-4.142,0-7.5,3.358-7.5,7.5V304H35.5c-4.142,0-7.5,3.358-7.5,7.5v32c0,4.142,3.358,7.5,7.5,7.5H60v24.5c0,4.142,3.358,7.5,7.5,7.5H76v64.995c-0.125,0.001-0.242,0.005-0.369,0.005c-6.232,0-8.924-1.346-12.651-3.208C58.709,442.657,53.394,440,43.622,440c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5c6.232,0,8.925,1.346,12.651,3.208c4.271,2.135,9.586,4.792,19.358,4.792c9.771,0,15.084-2.657,19.354-4.792c3.725-1.862,6.417-3.208,12.646-3.208c6.229,0,8.919,1.346,12.644,3.208c4.27,2.135,9.583,4.792,19.353,4.792c9.771,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208s8.923,1.346,12.649,3.208c4.27,2.135,9.584,4.792,19.356,4.792c9.772,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208c6.227,0,8.917,1.346,12.641,3.208c4.269,2.135,9.582,4.792,19.351,4.792c9.766,0,15.077-2.657,19.344-4.793c3.721-1.862,6.41-3.207,12.632-3.207c6.228,0,8.919,1.346,12.643,3.208c4.269,2.135,9.583,4.792,19.352,4.792c9.763,0,15.073-2.658,19.339-4.793c3.719-1.861,6.407-3.207,12.625-3.207c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5c-9.764,0-15.073,2.658-19.339,4.793c-3.719,1.861-6.406,3.207-12.625,3.207c-0.21,0-0.406-0.005-0.607-0.008V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h24.5c4.142,0,7.5-3.358,7.5-7.5v-32c0-4.142-3.358-7.5-7.5-7.5H347v-56.5c0-4.142-3.358-7.5-7.5-7.5h-17.434L299.533,71H396v121h-16.5c-4.142,0-7.5,3.358-7.5,7.5v48c0,4.142,3.358,7.5,7.5,7.5h48c4.142,0,7.5-3.358,7.5-7.5v-48C435,195.358,431.642,192,427.5,192z M276.934,15l8.667,65H249.4l8.667-65H276.934z M282.388,95L267.5,114.141L252.612,95H282.388z M245.382,110.135l12.617,16.222l-17.838,22.935L245.382,110.135z M250.835,160l16.665-21.427L284.165,160H250.835z M281.394,175L267.5,188.894L253.606,175H281.394z M236.222,178.829l20.671,20.671l-27.031,27.031L236.222,178.829z M267.5,210.106L297.394,240h-59.787L267.5,210.106z M278.106,199.5l20.671-20.671l6.36,47.703L278.106,199.5z M277.001,126.357l12.617-16.222l5.221,39.157L277.001,126.357z M135.955,215L123.5,226.21L111.045,215H135.955z M106.238,200l17.262-23.71L140.762,200H106.238z M153.442,219.442l6.952,39.973L134.711,236.3L153.442,219.442z M147.156,183.297l-14.379-19.75l8.834-12.134L147.156,183.297z M123.5,150.804L111.994,135h23.013L123.5,150.804z M133.192,103l2.956,17h-25.296l2.956-17H133.192z M105.389,151.414l8.834,12.134l-14.379,19.75L105.389,151.414z M93.558,219.442l18.731,16.858l-25.683,23.115L93.558,219.442z M123.5,246.39L151.955,272H95.045L123.5,246.39z M115,71h17v17h-17V71z M75,287h0.475c0.011,0,0.023,0.001,0.034,0.001c0.011,0,0.022-0.001,0.033-0.001H188v17H75V287z M75,351h49v17H75V351z M91,443.472V383h17v57.006c-0.125-0.001-0.242-0.006-0.368-0.006C99.819,440,94.859,441.699,91,443.472z M267.637,448c-6.227,0-8.917-1.346-12.641-3.208c-4.269-2.135-9.582-4.792-19.351-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.231,0-8.923-1.346-12.649-3.208c-4.27-2.135-9.584-4.792-19.356-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.228,0-8.919-1.346-12.644-3.208c-1.216-0.608-2.521-1.257-3.985-1.876V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h129v24.5c0,4.142,3.358,7.5,7.5,7.5h8.5v60.023c-1.361,0.587-2.586,1.197-3.731,1.77C276.547,446.655,273.859,448,267.637,448z M316,443.363c-3.824-1.732-8.737-3.363-16.388-3.363c-0.21,0-0.406,0.008-0.612,0.01V383h17V443.363z M332,368h-49v-17h49V368z M364,336H43v-17h321V336z M332,304H203v-49h16.495c0.005,0,0.01,0.001,0.015,0.001c0.007,0,0.014-0.001,0.021-0.001h95.939c0.007,0,0.014,0.001,0.021,0.001c0.005,0,0.01-0.001,0.015-0.001H332V304z M295.266,39H399.75l12.75,17H297.533L295.266,39z M420,240h-33v-33h33V240z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`,
        }),
        color: "#222b45",
      };
    case MODELS.JACK_UP:
      return {
        icon: new DivIcon({
          className: "leaflet-div-icon-img",
          iconSize: [size, size],
          html: `<svg fill="#3366ff" x="0px" y="0px" viewBox="0 0 463 463" style="enable-background:new 0 0 463 463;" xml:space="preserve"><g><path d="M307.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S311.642,272,307.5,272z"/><path d="M251.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S255.642,272,251.5,272z"/><path d="M427.5,192H411V71h16.5c2.841,0,5.438-1.605,6.708-4.146c1.271-2.541,0.997-5.582-0.708-7.854l-24-32c-1.417-1.889-3.639-3-6-3H293.266l-1.204-9.028C295.941,14.683,299,11.452,299,7.5c0-4.142-3.358-7.5-7.5-7.5h-48c-4.142,0-7.5,3.358-7.5,7.5c0,3.952,3.059,7.183,6.938,7.472L212.934,240H195.5c-4.142,0-7.5,3.358-7.5,7.5V272h-10.192l-29.402-169.06c3.714-0.448,6.593-3.605,6.593-7.44c0-4.142-3.358-7.5-7.5-7.5H147V63.5c0-4.142-3.358-7.5-7.5-7.5H131v-8.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5V56h-8.5c-4.142,0-7.5,3.358-7.5,7.5V88h-0.5c-4.142,0-7.5,3.358-7.5,7.5c0,3.835,2.88,6.992,6.593,7.44L69.192,272H67.5c-4.142,0-7.5,3.358-7.5,7.5V304H35.5c-4.142,0-7.5,3.358-7.5,7.5v32c0,4.142,3.358,7.5,7.5,7.5H60v24.5c0,4.142,3.358,7.5,7.5,7.5H76v64.995c-0.125,0.001-0.242,0.005-0.369,0.005c-6.232,0-8.924-1.346-12.651-3.208C58.709,442.657,53.394,440,43.622,440c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5c6.232,0,8.925,1.346,12.651,3.208c4.271,2.135,9.586,4.792,19.358,4.792c9.771,0,15.084-2.657,19.354-4.792c3.725-1.862,6.417-3.208,12.646-3.208c6.229,0,8.919,1.346,12.644,3.208c4.27,2.135,9.583,4.792,19.353,4.792c9.771,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208s8.923,1.346,12.649,3.208c4.27,2.135,9.584,4.792,19.356,4.792c9.772,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208c6.227,0,8.917,1.346,12.641,3.208c4.269,2.135,9.582,4.792,19.351,4.792c9.766,0,15.077-2.657,19.344-4.793c3.721-1.862,6.41-3.207,12.632-3.207c6.228,0,8.919,1.346,12.643,3.208c4.269,2.135,9.583,4.792,19.352,4.792c9.763,0,15.073-2.658,19.339-4.793c3.719-1.861,6.407-3.207,12.625-3.207c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5c-9.764,0-15.073,2.658-19.339,4.793c-3.719,1.861-6.406,3.207-12.625,3.207c-0.21,0-0.406-0.005-0.607-0.008V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h24.5c4.142,0,7.5-3.358,7.5-7.5v-32c0-4.142-3.358-7.5-7.5-7.5H347v-56.5c0-4.142-3.358-7.5-7.5-7.5h-17.434L299.533,71H396v121h-16.5c-4.142,0-7.5,3.358-7.5,7.5v48c0,4.142,3.358,7.5,7.5,7.5h48c4.142,0,7.5-3.358,7.5-7.5v-48C435,195.358,431.642,192,427.5,192z M276.934,15l8.667,65H249.4l8.667-65H276.934z M282.388,95L267.5,114.141L252.612,95H282.388z M245.382,110.135l12.617,16.222l-17.838,22.935L245.382,110.135z M250.835,160l16.665-21.427L284.165,160H250.835z M281.394,175L267.5,188.894L253.606,175H281.394z M236.222,178.829l20.671,20.671l-27.031,27.031L236.222,178.829z M267.5,210.106L297.394,240h-59.787L267.5,210.106z M278.106,199.5l20.671-20.671l6.36,47.703L278.106,199.5z M277.001,126.357l12.617-16.222l5.221,39.157L277.001,126.357z M135.955,215L123.5,226.21L111.045,215H135.955z M106.238,200l17.262-23.71L140.762,200H106.238z M153.442,219.442l6.952,39.973L134.711,236.3L153.442,219.442z M147.156,183.297l-14.379-19.75l8.834-12.134L147.156,183.297z M123.5,150.804L111.994,135h23.013L123.5,150.804z M133.192,103l2.956,17h-25.296l2.956-17H133.192z M105.389,151.414l8.834,12.134l-14.379,19.75L105.389,151.414z M93.558,219.442l18.731,16.858l-25.683,23.115L93.558,219.442z M123.5,246.39L151.955,272H95.045L123.5,246.39z M115,71h17v17h-17V71z M75,287h0.475c0.011,0,0.023,0.001,0.034,0.001c0.011,0,0.022-0.001,0.033-0.001H188v17H75V287z M75,351h49v17H75V351z M91,443.472V383h17v57.006c-0.125-0.001-0.242-0.006-0.368-0.006C99.819,440,94.859,441.699,91,443.472z M267.637,448c-6.227,0-8.917-1.346-12.641-3.208c-4.269-2.135-9.582-4.792-19.351-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.231,0-8.923-1.346-12.649-3.208c-4.27-2.135-9.584-4.792-19.356-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.228,0-8.919-1.346-12.644-3.208c-1.216-0.608-2.521-1.257-3.985-1.876V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h129v24.5c0,4.142,3.358,7.5,7.5,7.5h8.5v60.023c-1.361,0.587-2.586,1.197-3.731,1.77C276.547,446.655,273.859,448,267.637,448z M316,443.363c-3.824-1.732-8.737-3.363-16.388-3.363c-0.21,0-0.406,0.008-0.612,0.01V383h17V443.363z M332,368h-49v-17h49V368z M364,336H43v-17h321V336z M332,304H203v-49h16.495c0.005,0,0.01,0.001,0.015,0.001c0.007,0,0.014-0.001,0.021-0.001h95.939c0.007,0,0.014,0.001,0.021,0.001c0.005,0,0.01-0.001,0.015-0.001H332V304z M295.266,39H399.75l12.75,17H297.533L295.266,39z M420,240h-33v-33h33V240z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`,
        }),
        color: "#3366ff",
      };
    case MODELS.SEMI_SUBMERSIVEL:
      return {
        icon: new DivIcon({
          className: "leaflet-div-icon-img",
          iconSize: [size, size],
          html: `<svg fill="#FF3F35" x="0px" y="0px" viewBox="0 0 463 463" style="enable-background:new 0 0 463 463;" xml:space="preserve"><g><path d="M307.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S311.642,272,307.5,272z"/><path d="M251.5,272h-24c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5h24c4.142,0,7.5-3.358,7.5-7.5S255.642,272,251.5,272z"/><path d="M427.5,192H411V71h16.5c2.841,0,5.438-1.605,6.708-4.146c1.271-2.541,0.997-5.582-0.708-7.854l-24-32c-1.417-1.889-3.639-3-6-3H293.266l-1.204-9.028C295.941,14.683,299,11.452,299,7.5c0-4.142-3.358-7.5-7.5-7.5h-48c-4.142,0-7.5,3.358-7.5,7.5c0,3.952,3.059,7.183,6.938,7.472L212.934,240H195.5c-4.142,0-7.5,3.358-7.5,7.5V272h-10.192l-29.402-169.06c3.714-0.448,6.593-3.605,6.593-7.44c0-4.142-3.358-7.5-7.5-7.5H147V63.5c0-4.142-3.358-7.5-7.5-7.5H131v-8.5c0-4.142-3.358-7.5-7.5-7.5s-7.5,3.358-7.5,7.5V56h-8.5c-4.142,0-7.5,3.358-7.5,7.5V88h-0.5c-4.142,0-7.5,3.358-7.5,7.5c0,3.835,2.88,6.992,6.593,7.44L69.192,272H67.5c-4.142,0-7.5,3.358-7.5,7.5V304H35.5c-4.142,0-7.5,3.358-7.5,7.5v32c0,4.142,3.358,7.5,7.5,7.5H60v24.5c0,4.142,3.358,7.5,7.5,7.5H76v64.995c-0.125,0.001-0.242,0.005-0.369,0.005c-6.232,0-8.924-1.346-12.651-3.208C58.709,442.657,53.394,440,43.622,440c-4.142,0-7.5,3.358-7.5,7.5s3.358,7.5,7.5,7.5c6.232,0,8.925,1.346,12.651,3.208c4.271,2.135,9.586,4.792,19.358,4.792c9.771,0,15.084-2.657,19.354-4.792c3.725-1.862,6.417-3.208,12.646-3.208c6.229,0,8.919,1.346,12.644,3.208c4.27,2.135,9.583,4.792,19.353,4.792c9.771,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208s8.923,1.346,12.649,3.208c4.27,2.135,9.584,4.792,19.356,4.792c9.772,0,15.086-2.657,19.356-4.792c3.726-1.863,6.418-3.208,12.649-3.208c6.227,0,8.917,1.346,12.641,3.208c4.269,2.135,9.582,4.792,19.351,4.792c9.766,0,15.077-2.657,19.344-4.793c3.721-1.862,6.41-3.207,12.632-3.207c6.228,0,8.919,1.346,12.643,3.208c4.269,2.135,9.583,4.792,19.352,4.792c9.763,0,15.073-2.658,19.339-4.793c3.719-1.861,6.407-3.207,12.625-3.207c4.142,0,7.5-3.358,7.5-7.5s-3.358-7.5-7.5-7.5c-9.764,0-15.073,2.658-19.339,4.793c-3.719,1.861-6.406,3.207-12.625,3.207c-0.21,0-0.406-0.005-0.607-0.008V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h24.5c4.142,0,7.5-3.358,7.5-7.5v-32c0-4.142-3.358-7.5-7.5-7.5H347v-56.5c0-4.142-3.358-7.5-7.5-7.5h-17.434L299.533,71H396v121h-16.5c-4.142,0-7.5,3.358-7.5,7.5v48c0,4.142,3.358,7.5,7.5,7.5h48c4.142,0,7.5-3.358,7.5-7.5v-48C435,195.358,431.642,192,427.5,192z M276.934,15l8.667,65H249.4l8.667-65H276.934z M282.388,95L267.5,114.141L252.612,95H282.388z M245.382,110.135l12.617,16.222l-17.838,22.935L245.382,110.135z M250.835,160l16.665-21.427L284.165,160H250.835z M281.394,175L267.5,188.894L253.606,175H281.394z M236.222,178.829l20.671,20.671l-27.031,27.031L236.222,178.829z M267.5,210.106L297.394,240h-59.787L267.5,210.106z M278.106,199.5l20.671-20.671l6.36,47.703L278.106,199.5z M277.001,126.357l12.617-16.222l5.221,39.157L277.001,126.357z M135.955,215L123.5,226.21L111.045,215H135.955z M106.238,200l17.262-23.71L140.762,200H106.238z M153.442,219.442l6.952,39.973L134.711,236.3L153.442,219.442z M147.156,183.297l-14.379-19.75l8.834-12.134L147.156,183.297z M123.5,150.804L111.994,135h23.013L123.5,150.804z M133.192,103l2.956,17h-25.296l2.956-17H133.192z M105.389,151.414l8.834,12.134l-14.379,19.75L105.389,151.414z M93.558,219.442l18.731,16.858l-25.683,23.115L93.558,219.442z M123.5,246.39L151.955,272H95.045L123.5,246.39z M115,71h17v17h-17V71z M75,287h0.475c0.011,0,0.023,0.001,0.034,0.001c0.011,0,0.022-0.001,0.033-0.001H188v17H75V287z M75,351h49v17H75V351z M91,443.472V383h17v57.006c-0.125-0.001-0.242-0.006-0.368-0.006C99.819,440,94.859,441.699,91,443.472z M267.637,448c-6.227,0-8.917-1.346-12.641-3.208c-4.269-2.135-9.582-4.792-19.351-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.231,0-8.923-1.346-12.649-3.208c-4.27-2.135-9.584-4.792-19.356-4.792c-9.771,0-15.086,2.657-19.356,4.792c-3.726,1.863-6.418,3.208-12.649,3.208c-6.228,0-8.919-1.346-12.644-3.208c-1.216-0.608-2.521-1.257-3.985-1.876V383h8.5c4.142,0,7.5-3.358,7.5-7.5V351h129v24.5c0,4.142,3.358,7.5,7.5,7.5h8.5v60.023c-1.361,0.587-2.586,1.197-3.731,1.77C276.547,446.655,273.859,448,267.637,448z M316,443.363c-3.824-1.732-8.737-3.363-16.388-3.363c-0.21,0-0.406,0.008-0.612,0.01V383h17V443.363z M332,368h-49v-17h49V368z M364,336H43v-17h321V336z M332,304H203v-49h16.495c0.005,0,0.01,0.001,0.015,0.001c0.007,0,0.014-0.001,0.021-0.001h95.939c0.007,0,0.014,0.001,0.021,0.001c0.005,0,0.01-0.001,0.015-0.001H332V304z M295.266,39H399.75l12.75,17H297.533L295.266,39z M420,240h-33v-33h33V240z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>`,
        }),
        color: "#FF3F35",
      };
    default:
      return {
        icon: new DivIcon({
          className: "leaflet-div-icon-img",
          iconSize: [size, size],
          html: `<svg aria-hidden="true" style="transform:rotate(${45}deg)" focusable="false" data-prefix="fad" data-icon="location-arrow" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><g class="fa-group"><path fill="currentColor" d="M461.91 0a45 45 0 0 0-17.4 3.52L28.73 195.42c-48 22.39-32 92.75 19.19 92.75h175.91v175.91c0 30 24.21 47.94 48.74 47.94 17.3 0 34.76-8.91 44-28.75L508.48 67.49C522.06 34.89 494.14 0 461.91 0zM303.83 320V208.17H192l207.67-95.85z" class="fa-secondary"></path><path fill="currentColor" d="M399.68 112.32L303.83 320V208.17H192l207.67-95.85" class="fa-primary"></path></g></svg>`,
        }),
        color: "#222b45",
      };
  }
};

const getSize = (zoom) => {
  if (zoom > 14) return 35;
  if (zoom > 9) return 30;
  return 25;
};

const FixedPlatform = ({ data, zoom, machines }) => {

  const detailsMarker = getIconDetails(data.modelType, getSize(zoom));

  const color = machines?.some((machine) =>
    machine.lastState?.coordinate?.length &&
   handleMachineOnPlataform(data.position,
      machine.lastState?.coordinate, data.radius))
    ? "#c22dff"
    : detailsMarker?.color;


  return (
    <>
      {isPositionValid(data.position) && <Marker
        position={data.position}
        icon={detailsMarker?.icon}
      >
        <TooltipPopUp data={data} />
        <PopUp data={data} />
        <CircleRadius
          key={nanoid(5)}
          data={data}
          color={color} />
      </Marker>}
    </>
  );
};

export default FixedPlatform;
